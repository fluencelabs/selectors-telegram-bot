{"abi":[],"bytecode":{"object":"0x6080806040523460175760399081601c823930815050f35b5f80fdfe5f80fdfea264697066735822122056c4b892044050534a3782abae58f962690af0996fed7179fb9a6326055e630c64736f6c634300081a0033","sourceMap":"718:10108:152:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x5f80fdfea264697066735822122056c4b892044050534a3782abae58f962690af0996fed7179fb9a6326055e630c64736f6c634300081a0033","sourceMap":"718:10108:152:-:0;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/lib/LibDiamond.sol\":\"LibDiamond\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@ensdomains/buffer/=lib/filecoin-solidity/lib/buffer/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":buffer/=lib/filecoin-solidity/lib/buffer/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":filecoin-solidity/=lib/filecoin-solidity/contracts/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/filecoin-solidity/lib/openzeppelin-contracts-upgradeable/contracts/\",\":solidity-BigNumber/=lib/filecoin-solidity/contracts/vendor/solidity-BigNumber/src/\",\":solidity-cborutils/=lib/solidity-cborutils/contracts/\",\":solidity-cborutils/contracts/=lib/filecoin-solidity/lib/solidity-cborutils/contracts/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0xc00c16bfa30a3fa5f3dc684f7f8ba62c259962b25f647d9588739458989717fc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://119d9a5acd99b9462a8341c9b95ddd468648799eefa47038f81521431743c1ae\",\"dweb:/ipfs/QmTF7WNyPWTUtUzNcpq5rf5v2uw5TwzqsSg9D53pfQufcu\"]},\"src/interfaces/IERC173.sol\":{\"keccak256\":\"0x001e07b0fbc894300b939d496ffb005abe398b5bc609802d319b8cdeafe5d36b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8e59f66879ef993892410cbe834b1d2dd34891f47066b7be601ff825b0748361\",\"dweb:/ipfs/QmZedQ668we8ohPPZF5tPP5gKpJ5n22h3FDFkoFT5VXpEu\"]},\"src/lib/LibDiamond.sol\":{\"keccak256\":\"0x2408a5742ee85ceba3764faeb0404945f813616fa2843b9cf8bffebdb5085fd6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1689678b6df2cc8f41b2195cec791158ff5cfe948b49248f2d0d769fad01d716\",\"dweb:/ipfs/Qmd5nrZ4tWR798jfwc78dudXCy33eDQYYDfydbHJvqv1Hj\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@ensdomains/buffer/=lib/filecoin-solidity/lib/buffer/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","buffer/=lib/filecoin-solidity/lib/buffer/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","filecoin-solidity/=lib/filecoin-solidity/contracts/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/filecoin-solidity/lib/openzeppelin-contracts-upgradeable/contracts/","solidity-BigNumber/=lib/filecoin-solidity/contracts/vendor/solidity-BigNumber/src/","solidity-cborutils/=lib/solidity-cborutils/contracts/","solidity-cborutils/contracts/=lib/filecoin-solidity/lib/solidity-cborutils/contracts/"],"optimizer":{"enabled":true,"runs":0},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/lib/LibDiamond.sol":"LibDiamond"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"src/interfaces/IDiamondCut.sol":{"keccak256":"0xc00c16bfa30a3fa5f3dc684f7f8ba62c259962b25f647d9588739458989717fc","urls":["bzz-raw://119d9a5acd99b9462a8341c9b95ddd468648799eefa47038f81521431743c1ae","dweb:/ipfs/QmTF7WNyPWTUtUzNcpq5rf5v2uw5TwzqsSg9D53pfQufcu"],"license":"MIT"},"src/interfaces/IERC173.sol":{"keccak256":"0x001e07b0fbc894300b939d496ffb005abe398b5bc609802d319b8cdeafe5d36b","urls":["bzz-raw://8e59f66879ef993892410cbe834b1d2dd34891f47066b7be601ff825b0748361","dweb:/ipfs/QmZedQ668we8ohPPZF5tPP5gKpJ5n22h3FDFkoFT5VXpEu"],"license":"MIT"},"src/lib/LibDiamond.sol":{"keccak256":"0x2408a5742ee85ceba3764faeb0404945f813616fa2843b9cf8bffebdb5085fd6","urls":["bzz-raw://1689678b6df2cc8f41b2195cec791158ff5cfe948b49248f2d0d769fad01d716","dweb:/ipfs/Qmd5nrZ4tWR798jfwc78dudXCy33eDQYYDfydbHJvqv1Hj"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"devdoc":{"version":1,"kind":"dev"},"ast":{"absolutePath":"src/lib/LibDiamond.sol","id":87900,"exportedSymbols":{"IDiamondCut":[82837],"IERC173":[82980],"InitializationFunctionReverted":[87110],"LibDiamond":[87899]},"nodeType":"SourceUnit","src":"32:10795:152","nodes":[{"id":87100,"nodeType":"PragmaDirective","src":"32:23:152","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":87102,"nodeType":"ImportDirective","src":"361:59:152","nodes":[],"absolutePath":"src/interfaces/IDiamondCut.sol","file":"src/interfaces/IDiamondCut.sol","nameLocation":"-1:-1:-1","scope":87900,"sourceUnit":82838,"symbolAliases":[{"foreign":{"id":87101,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82837,"src":"369:11:152","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":87104,"nodeType":"ImportDirective","src":"421:51:152","nodes":[],"absolutePath":"src/interfaces/IERC173.sol","file":"src/interfaces/IERC173.sol","nameLocation":"-1:-1:-1","scope":87900,"sourceUnit":82981,"symbolAliases":[{"foreign":{"id":87103,"name":"IERC173","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82980,"src":"429:7:152","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":87110,"nodeType":"ErrorDefinition","src":"622:94:152","nodes":[],"errorSelector":"192105d7","name":"InitializationFunctionReverted","nameLocation":"628:30:152","parameters":{"id":87109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87106,"mutability":"mutable","name":"_initializationContractAddress","nameLocation":"667:30:152","nodeType":"VariableDeclaration","scope":87110,"src":"659:38:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87105,"name":"address","nodeType":"ElementaryTypeName","src":"659:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87108,"mutability":"mutable","name":"_calldata","nameLocation":"705:9:152","nodeType":"VariableDeclaration","scope":87110,"src":"699:15:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":87107,"name":"bytes","nodeType":"ElementaryTypeName","src":"699:5:152","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"658:57:152"}},{"id":87899,"nodeType":"ContractDefinition","src":"718:10108:152","nodes":[{"id":87115,"nodeType":"VariableDeclaration","src":"821:89:152","nodes":[],"constant":true,"mutability":"constant","name":"DIAMOND_STORAGE_POSITION","nameLocation":"838:24:152","scope":87899,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":87111,"name":"bytes32","nodeType":"ElementaryTypeName","src":"821:7:152","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"6469616d6f6e642e7374616e646172642e6469616d6f6e642e73746f72616765","id":87113,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"875:34:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_c8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c","typeString":"literal_string \"diamond.standard.diamond.storage\""},"value":"diamond.standard.diamond.storage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c","typeString":"literal_string \"diamond.standard.diamond.storage\""}],"id":87112,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"865:9:152","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":87114,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"865:45:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"id":87120,"nodeType":"StructDefinition","src":"917:171:152","nodes":[],"canonicalName":"LibDiamond.FacetAddressAndPosition","members":[{"constant":false,"id":87117,"mutability":"mutable","name":"facetAddress","nameLocation":"966:12:152","nodeType":"VariableDeclaration","scope":87120,"src":"958:20:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87116,"name":"address","nodeType":"ElementaryTypeName","src":"958:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87119,"mutability":"mutable","name":"functionSelectorPosition","nameLocation":"995:24:152","nodeType":"VariableDeclaration","scope":87120,"src":"988:31:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":87118,"name":"uint96","nodeType":"ElementaryTypeName","src":"988:6:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"}],"name":"FacetAddressAndPosition","nameLocation":"924:23:152","scope":87899,"visibility":"public"},{"id":87126,"nodeType":"StructDefinition","src":"1094:163:152","nodes":[],"canonicalName":"LibDiamond.FacetFunctionSelectors","members":[{"constant":false,"id":87123,"mutability":"mutable","name":"functionSelectors","nameLocation":"1143:17:152","nodeType":"VariableDeclaration","scope":87126,"src":"1134:26:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":87121,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1134:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":87122,"nodeType":"ArrayTypeName","src":"1134:8:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"},{"constant":false,"id":87125,"mutability":"mutable","name":"facetAddressPosition","nameLocation":"1178:20:152","nodeType":"VariableDeclaration","scope":87126,"src":"1170:28:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87124,"name":"uint256","nodeType":"ElementaryTypeName","src":"1170:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"FacetFunctionSelectors","nameLocation":"1101:22:152","scope":87899,"visibility":"public"},{"id":87146,"nodeType":"StructDefinition","src":"1263:662:152","nodes":[],"canonicalName":"LibDiamond.DiamondStorage","members":[{"constant":false,"id":87131,"mutability":"mutable","name":"selectorToFacetAndPosition","nameLocation":"1483:26:152","nodeType":"VariableDeclaration","scope":87146,"src":"1440:69:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition)"},"typeName":{"id":87130,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":87127,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1448:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1440:42:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":87129,"nodeType":"UserDefinedTypeName","pathNode":{"id":87128,"name":"FacetAddressAndPosition","nameLocations":["1458:23:152"],"nodeType":"IdentifierPath","referencedDeclaration":87120,"src":"1458:23:152"},"referencedDeclaration":87120,"src":"1458:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndPosition"}}},"visibility":"internal"},{"constant":false,"id":87136,"mutability":"mutable","name":"facetFunctionSelectors","nameLocation":"1616:22:152","nodeType":"VariableDeclaration","scope":87146,"src":"1573:65:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors)"},"typeName":{"id":87135,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":87132,"name":"address","nodeType":"ElementaryTypeName","src":"1581:7:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1573:42:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":87134,"nodeType":"UserDefinedTypeName","pathNode":{"id":87133,"name":"FacetFunctionSelectors","nameLocations":["1592:22:152"],"nodeType":"IdentifierPath","referencedDeclaration":87126,"src":"1592:22:152"},"referencedDeclaration":87126,"src":"1592:22:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage_ptr","typeString":"struct LibDiamond.FacetFunctionSelectors"}}},"visibility":"internal"},{"constant":false,"id":87139,"mutability":"mutable","name":"facetAddresses","nameLocation":"1685:14:152","nodeType":"VariableDeclaration","scope":87146,"src":"1675:24:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":87137,"name":"address","nodeType":"ElementaryTypeName","src":"1675:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":87138,"nodeType":"ArrayTypeName","src":"1675:9:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":87143,"mutability":"mutable","name":"supportedInterfaces","nameLocation":"1835:19:152","nodeType":"VariableDeclaration","scope":87146,"src":"1811:43:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"typeName":{"id":87142,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":87140,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1819:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1811:23:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":87141,"name":"bool","nodeType":"ElementaryTypeName","src":"1829:4:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"internal"},{"constant":false,"id":87145,"mutability":"mutable","name":"contractOwner","nameLocation":"1905:13:152","nodeType":"VariableDeclaration","scope":87146,"src":"1897:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87144,"name":"address","nodeType":"ElementaryTypeName","src":"1897:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"DiamondStorage","nameLocation":"1270:14:152","scope":87899,"visibility":"public"},{"id":87158,"nodeType":"FunctionDefinition","src":"1931:260:152","nodes":[],"body":{"id":87157,"nodeType":"Block","src":"2007:184:152","nodes":[],"statements":[{"assignments":[87153],"declarations":[{"constant":false,"id":87153,"mutability":"mutable","name":"position","nameLocation":"2025:8:152","nodeType":"VariableDeclaration","scope":87157,"src":"2017:16:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":87152,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2017:7:152","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":87155,"initialValue":{"id":87154,"name":"DIAMOND_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87115,"src":"2036:24:152","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2017:43:152"},{"AST":{"nativeSrc":"2142:43:152","nodeType":"YulBlock","src":"2142:43:152","statements":[{"nativeSrc":"2156:19:152","nodeType":"YulAssignment","src":"2156:19:152","value":{"name":"position","nativeSrc":"2167:8:152","nodeType":"YulIdentifier","src":"2167:8:152"},"variableNames":[{"name":"ds.slot","nativeSrc":"2156:7:152","nodeType":"YulIdentifier","src":"2156:7:152"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":87150,"isOffset":false,"isSlot":true,"src":"2156:7:152","suffix":"slot","valueSize":1},{"declaration":87153,"isOffset":false,"isSlot":false,"src":"2167:8:152","valueSize":1}],"id":87156,"nodeType":"InlineAssembly","src":"2133:52:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondStorage","nameLocation":"1940:14:152","parameters":{"id":87147,"nodeType":"ParameterList","parameters":[],"src":"1954:2:152"},"returnParameters":{"id":87151,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87150,"mutability":"mutable","name":"ds","nameLocation":"2003:2:152","nodeType":"VariableDeclaration","scope":87158,"src":"1980:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87149,"nodeType":"UserDefinedTypeName","pathNode":{"id":87148,"name":"DiamondStorage","nameLocations":["1980:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"1980:14:152"},"referencedDeclaration":87146,"src":"1980:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"src":"1979:27:152"},"scope":87899,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":87188,"nodeType":"FunctionDefinition","src":"2197:272:152","nodes":[],"body":{"id":87187,"nodeType":"Block","src":"2251:218:152","nodes":[],"statements":[{"assignments":[87165],"declarations":[{"constant":false,"id":87165,"mutability":"mutable","name":"ds","nameLocation":"2284:2:152","nodeType":"VariableDeclaration","scope":87187,"src":"2261:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87164,"nodeType":"UserDefinedTypeName","pathNode":{"id":87163,"name":"DiamondStorage","nameLocations":["2261:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"2261:14:152"},"referencedDeclaration":87146,"src":"2261:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":87168,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":87166,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87158,"src":"2289:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$87146_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":87167,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2289:16:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"2261:44:152"},{"assignments":[87170],"declarations":[{"constant":false,"id":87170,"mutability":"mutable","name":"previousOwner","nameLocation":"2323:13:152","nodeType":"VariableDeclaration","scope":87187,"src":"2315:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87169,"name":"address","nodeType":"ElementaryTypeName","src":"2315:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":87173,"initialValue":{"expression":{"id":87171,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87165,"src":"2339:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87172,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2342:13:152","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":87145,"src":"2339:16:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"2315:40:152"},{"expression":{"id":87178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":87174,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87165,"src":"2365:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87176,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2368:13:152","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":87145,"src":"2365:16:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":87177,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87160,"src":"2384:9:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2365:28:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":87179,"nodeType":"ExpressionStatement","src":"2365:28:152"},{"eventCall":{"arguments":[{"id":87183,"name":"previousOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87170,"src":"2437:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":87184,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87160,"src":"2452:9:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":87180,"name":"IERC173","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82980,"src":"2408:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC173_$82980_$","typeString":"type(contract IERC173)"}},"id":87182,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2416:20:152","memberName":"OwnershipTransferred","nodeType":"MemberAccess","referencedDeclaration":82967,"src":"2408:28:152","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$returns$__$","typeString":"function (address,address)"}},"id":87185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2408:54:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87186,"nodeType":"EmitStatement","src":"2403:59:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"setContractOwner","nameLocation":"2206:16:152","parameters":{"id":87161,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87160,"mutability":"mutable","name":"_newOwner","nameLocation":"2231:9:152","nodeType":"VariableDeclaration","scope":87188,"src":"2223:17:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87159,"name":"address","nodeType":"ElementaryTypeName","src":"2223:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2222:19:152"},"returnParameters":{"id":87162,"nodeType":"ParameterList","parameters":[],"src":"2251:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87200,"nodeType":"FunctionDefinition","src":"2475:136:152","nodes":[],"body":{"id":87199,"nodeType":"Block","src":"2547:64:152","nodes":[],"statements":[{"expression":{"id":87197,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":87193,"name":"contractOwner_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87191,"src":"2557:14:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":87194,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87158,"src":"2574:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$87146_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":87195,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2574:16:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87196,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2591:13:152","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":87145,"src":"2574:30:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2557:47:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":87198,"nodeType":"ExpressionStatement","src":"2557:47:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"contractOwner","nameLocation":"2484:13:152","parameters":{"id":87189,"nodeType":"ParameterList","parameters":[],"src":"2497:2:152"},"returnParameters":{"id":87192,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87191,"mutability":"mutable","name":"contractOwner_","nameLocation":"2531:14:152","nodeType":"VariableDeclaration","scope":87200,"src":"2523:22:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87190,"name":"address","nodeType":"ElementaryTypeName","src":"2523:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2522:24:152"},"scope":87899,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":87214,"nodeType":"FunctionDefinition","src":"2617:156:152","nodes":[],"body":{"id":87213,"nodeType":"Block","src":"2665:108:152","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":87204,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2683:3:152","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":87205,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2687:6:152","memberName":"sender","nodeType":"MemberAccess","src":"2683:10:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":87206,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87158,"src":"2697:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$87146_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":87207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2697:16:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87208,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2714:13:152","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":87145,"src":"2697:30:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2683:44:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e643a204d75737420626520636f6e7472616374206f776e6572","id":87210,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2729:36:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_0d4ae41009c51fd276653a54d7793c24f266ddc8c56ce21f8be5e2c6595ab3ac","typeString":"literal_string \"LibDiamond: Must be contract owner\""},"value":"LibDiamond: Must be contract owner"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0d4ae41009c51fd276653a54d7793c24f266ddc8c56ce21f8be5e2c6595ab3ac","typeString":"literal_string \"LibDiamond: Must be contract owner\""}],"id":87203,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"2675:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87211,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2675:91:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87212,"nodeType":"ExpressionStatement","src":"2675:91:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceIsContractOwner","nameLocation":"2626:22:152","parameters":{"id":87201,"nodeType":"ParameterList","parameters":[],"src":"2648:2:152"},"returnParameters":{"id":87202,"nodeType":"ParameterList","parameters":[],"src":"2665:0:152"},"scope":87899,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":87320,"nodeType":"FunctionDefinition","src":"2826:1079:152","nodes":[],"body":{"id":87319,"nodeType":"Block","src":"2967:938:152","nodes":[],"statements":[{"body":{"id":87304,"nodeType":"Block","src":"3049:734:152","statements":[{"assignments":[87239],"declarations":[{"constant":false,"id":87239,"mutability":"mutable","name":"action","nameLocation":"3090:6:152","nodeType":"VariableDeclaration","scope":87304,"src":"3063:33:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"},"typeName":{"id":87238,"nodeType":"UserDefinedTypeName","pathNode":{"id":87237,"name":"IDiamondCut.FacetCutAction","nameLocations":["3063:11:152","3075:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":82805,"src":"3063:26:152"},"referencedDeclaration":82805,"src":"3063:26:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"visibility":"internal"}],"id":87244,"initialValue":{"expression":{"baseExpression":{"id":87240,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3099:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87242,"indexExpression":{"id":87241,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3111:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3099:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87243,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3123:6:152","memberName":"action","nodeType":"MemberAccess","referencedDeclaration":82810,"src":"3099:30:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"VariableDeclarationStatement","src":"3063:66:152"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"},"id":87249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87245,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87239,"src":"3147:6:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":87246,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82837,"src":"3157:11:152","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$82837_$","typeString":"type(contract IDiamondCut)"}},"id":87247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3169:14:152","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":82805,"src":"3157:26:152","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$82805_$","typeString":"type(enum IDiamondCut.FacetCutAction)"}},"id":87248,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3184:3:152","memberName":"Add","nodeType":"MemberAccess","referencedDeclaration":82802,"src":"3157:30:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"src":"3147:40:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"},"id":87266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87262,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87239,"src":"3325:6:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":87263,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82837,"src":"3335:11:152","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$82837_$","typeString":"type(contract IDiamondCut)"}},"id":87264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3347:14:152","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":82805,"src":"3335:26:152","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$82805_$","typeString":"type(enum IDiamondCut.FacetCutAction)"}},"id":87265,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3362:7:152","memberName":"Replace","nodeType":"MemberAccess","referencedDeclaration":82803,"src":"3335:34:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"src":"3325:44:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"},"id":87283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87279,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87239,"src":"3511:6:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":87280,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82837,"src":"3521:11:152","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$82837_$","typeString":"type(contract IDiamondCut)"}},"id":87281,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3533:14:152","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":82805,"src":"3521:26:152","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$82805_$","typeString":"type(enum IDiamondCut.FacetCutAction)"}},"id":87282,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3548:6:152","memberName":"Remove","nodeType":"MemberAccess","referencedDeclaration":82804,"src":"3521:33:152","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$82805","typeString":"enum IDiamondCut.FacetCutAction"}},"src":"3511:43:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":87300,"nodeType":"Block","src":"3691:82:152","statements":[{"expression":{"arguments":[{"hexValue":"4c69624469616d6f6e644375743a20496e636f7272656374204661636574437574416374696f6e","id":87297,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3716:41:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_48267d8daf5ea9c6bbad1fe9c53dc4c04a2a01b2b85bad432956cf42f45b2f54","typeString":"literal_string \"LibDiamondCut: Incorrect FacetCutAction\""},"value":"LibDiamondCut: Incorrect FacetCutAction"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_48267d8daf5ea9c6bbad1fe9c53dc4c04a2a01b2b85bad432956cf42f45b2f54","typeString":"literal_string \"LibDiamondCut: Incorrect FacetCutAction\""}],"id":87296,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3709:6:152","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":87298,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3709:49:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87299,"nodeType":"ExpressionStatement","src":"3709:49:152"}]},"id":87301,"nodeType":"IfStatement","src":"3507:266:152","trueBody":{"id":87295,"nodeType":"Block","src":"3556:129:152","statements":[{"expression":{"arguments":[{"expression":{"baseExpression":{"id":87285,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3590:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87287,"indexExpression":{"id":87286,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3602:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3590:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87288,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3614:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":82807,"src":"3590:36:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":87289,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3628:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87291,"indexExpression":{"id":87290,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3640:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3628:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87292,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3652:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":82813,"src":"3628:41:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":87284,"name":"removeFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87590,"src":"3574:15:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":87293,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3574:96:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87294,"nodeType":"ExpressionStatement","src":"3574:96:152"}]}},"id":87302,"nodeType":"IfStatement","src":"3321:452:152","trueBody":{"id":87278,"nodeType":"Block","src":"3371:130:152","statements":[{"expression":{"arguments":[{"expression":{"baseExpression":{"id":87268,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3406:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87270,"indexExpression":{"id":87269,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3418:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3406:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87271,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3430:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":82807,"src":"3406:36:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":87272,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3444:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87274,"indexExpression":{"id":87273,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3456:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3444:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87275,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3468:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":82813,"src":"3444:41:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":87267,"name":"replaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87525,"src":"3389:16:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":87276,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3389:97:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87277,"nodeType":"ExpressionStatement","src":"3389:97:152"}]}},"id":87303,"nodeType":"IfStatement","src":"3143:630:152","trueBody":{"id":87261,"nodeType":"Block","src":"3189:126:152","statements":[{"expression":{"arguments":[{"expression":{"baseExpression":{"id":87251,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3220:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87253,"indexExpression":{"id":87252,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3232:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3220:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87254,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3244:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":82807,"src":"3220:36:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":87255,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3258:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87257,"indexExpression":{"id":87256,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3270:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3258:23:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":87258,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3282:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":82813,"src":"3258:41:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":87250,"name":"addFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87421,"src":"3207:12:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":87259,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3207:93:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87260,"nodeType":"ExpressionStatement","src":"3207:93:152"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87231,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87228,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3002:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":87229,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3015:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":87230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3027:6:152","memberName":"length","nodeType":"MemberAccess","src":"3015:18:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3002:31:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87305,"initializationExpression":{"assignments":[87226],"declarations":[{"constant":false,"id":87226,"mutability":"mutable","name":"facetIndex","nameLocation":"2990:10:152","nodeType":"VariableDeclaration","scope":87305,"src":"2982:18:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87225,"name":"uint256","nodeType":"ElementaryTypeName","src":"2982:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87227,"nodeType":"VariableDeclarationStatement","src":"2982:18:152"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":87233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"3035:12:152","subExpression":{"id":87232,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87226,"src":"3035:10:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":87234,"nodeType":"ExpressionStatement","src":"3035:12:152"},"nodeType":"ForStatement","src":"2977:806:152"},{"eventCall":{"arguments":[{"id":87309,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87218,"src":"3820:11:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},{"id":87310,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87220,"src":"3833:5:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":87311,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87222,"src":"3840:9:152","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":87306,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82837,"src":"3797:11:152","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$82837_$","typeString":"type(contract IDiamondCut)"}},"id":87308,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3809:10:152","memberName":"DiamondCut","nodeType":"MemberAccess","referencedDeclaration":82836,"src":"3797:22:152","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct IDiamondCut.FacetCut memory[] memory,address,bytes memory)"}},"id":87312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3797:53:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87313,"nodeType":"EmitStatement","src":"3792:58:152"},{"expression":{"arguments":[{"id":87315,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87220,"src":"3881:5:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":87316,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87222,"src":"3888:9:152","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":87314,"name":"initializeDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87879,"src":"3860:20:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory)"}},"id":87317,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3860:38:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87318,"nodeType":"ExpressionStatement","src":"3860:38:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"2835:10:152","parameters":{"id":87223,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87218,"mutability":"mutable","name":"_diamondCut","nameLocation":"2885:11:152","nodeType":"VariableDeclaration","scope":87320,"src":"2855:41:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut[]"},"typeName":{"baseType":{"id":87216,"nodeType":"UserDefinedTypeName","pathNode":{"id":87215,"name":"IDiamondCut.FacetCut","nameLocations":["2855:11:152","2867:8:152"],"nodeType":"IdentifierPath","referencedDeclaration":82814,"src":"2855:20:152"},"referencedDeclaration":82814,"src":"2855:20:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$82814_storage_ptr","typeString":"struct IDiamondCut.FacetCut"}},"id":87217,"nodeType":"ArrayTypeName","src":"2855:22:152","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$82814_storage_$dyn_storage_ptr","typeString":"struct IDiamondCut.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":87220,"mutability":"mutable","name":"_init","nameLocation":"2914:5:152","nodeType":"VariableDeclaration","scope":87320,"src":"2906:13:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87219,"name":"address","nodeType":"ElementaryTypeName","src":"2906:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87222,"mutability":"mutable","name":"_calldata","nameLocation":"2942:9:152","nodeType":"VariableDeclaration","scope":87320,"src":"2929:22:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":87221,"name":"bytes","nodeType":"ElementaryTypeName","src":"2929:5:152","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2845:112:152"},"returnParameters":{"id":87224,"nodeType":"ParameterList","parameters":[],"src":"2967:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87421,"nodeType":"FunctionDefinition","src":"3911:1089:152","nodes":[],"body":{"id":87420,"nodeType":"Block","src":"4001:999:152","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87332,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":87329,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87325,"src":"4019:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4038:6:152","memberName":"length","nodeType":"MemberAccess","src":"4019:25:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":87331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4047:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4019:29:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a204e6f2073656c6563746f727320696e20666163657420746f20637574","id":87333,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4050:45:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_1ffc682bcfedefd5e93ba9ed0c2d1bc0b18319886e3b4bd28a03a3d3729f85c0","typeString":"literal_string \"LibDiamondCut: No selectors in facet to cut\""},"value":"LibDiamondCut: No selectors in facet to cut"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_1ffc682bcfedefd5e93ba9ed0c2d1bc0b18319886e3b4bd28a03a3d3729f85c0","typeString":"literal_string \"LibDiamondCut: No selectors in facet to cut\""}],"id":87328,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"4011:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87334,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4011:85:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87335,"nodeType":"ExpressionStatement","src":"4011:85:152"},{"assignments":[87338],"declarations":[{"constant":false,"id":87338,"mutability":"mutable","name":"ds","nameLocation":"4129:2:152","nodeType":"VariableDeclaration","scope":87420,"src":"4106:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87337,"nodeType":"UserDefinedTypeName","pathNode":{"id":87336,"name":"DiamondStorage","nameLocations":["4106:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"4106:14:152"},"referencedDeclaration":87146,"src":"4106:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":87341,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":87339,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87158,"src":"4134:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$87146_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":87340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4134:16:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"4106:44:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87348,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87343,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87322,"src":"4176:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":87346,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4201:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87345,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4193:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87344,"name":"address","nodeType":"ElementaryTypeName","src":"4193:7:152","typeDescriptions":{}}},"id":87347,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4193:10:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4176:27:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a204164642066616365742063616e27742062652061646472657373283029","id":87349,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4205:46:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_64609d8b93c93a06b98d7db7a87b04044cd4a52c5661d603bb9b90ad8b914a3a","typeString":"literal_string \"LibDiamondCut: Add facet can't be address(0)\""},"value":"LibDiamondCut: Add facet can't be address(0)"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_64609d8b93c93a06b98d7db7a87b04044cd4a52c5661d603bb9b90ad8b914a3a","typeString":"literal_string \"LibDiamondCut: Add facet can't be address(0)\""}],"id":87342,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"4168:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87350,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4168:84:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87351,"nodeType":"ExpressionStatement","src":"4168:84:152"},{"assignments":[87353],"declarations":[{"constant":false,"id":87353,"mutability":"mutable","name":"selectorPosition","nameLocation":"4269:16:152","nodeType":"VariableDeclaration","scope":87420,"src":"4262:23:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":87352,"name":"uint96","nodeType":"ElementaryTypeName","src":"4262:6:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"}],"id":87363,"initialValue":{"arguments":[{"expression":{"expression":{"baseExpression":{"expression":{"id":87356,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87338,"src":"4295:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87357,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4298:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"4295:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87359,"indexExpression":{"id":87358,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87322,"src":"4321:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4295:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87360,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4336:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"4295:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4354:6:152","memberName":"length","nodeType":"MemberAccess","src":"4295:65:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":87355,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4288:6:152","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":87354,"name":"uint96","nodeType":"ElementaryTypeName","src":"4288:6:152","typeDescriptions":{}}},"id":87362,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4288:73:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"VariableDeclarationStatement","src":"4262:99:152"},{"condition":{"commonType":{"typeIdentifier":"t_uint96","typeString":"uint96"},"id":87366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87364,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87353,"src":"4429:16:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":87365,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4449:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4429:21:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87373,"nodeType":"IfStatement","src":"4425:91:152","trueBody":{"id":87372,"nodeType":"Block","src":"4452:64:152","statements":[{"expression":{"arguments":[{"id":87368,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87338,"src":"4475:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":87369,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87322,"src":"4479:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":87367,"name":"addFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87623,"src":"4466:8:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$87146_storage_ptr_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address)"}},"id":87370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4466:27:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87371,"nodeType":"ExpressionStatement","src":"4466:27:152"}]}},{"body":{"id":87418,"nodeType":"Block","src":"4613:381:152","statements":[{"assignments":[87385],"declarations":[{"constant":false,"id":87385,"mutability":"mutable","name":"selector","nameLocation":"4634:8:152","nodeType":"VariableDeclaration","scope":87418,"src":"4627:15:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":87384,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4627:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":87389,"initialValue":{"baseExpression":{"id":87386,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87325,"src":"4645:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87388,"indexExpression":{"id":87387,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87375,"src":"4664:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4645:33:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"4627:51:152"},{"assignments":[87391],"declarations":[{"constant":false,"id":87391,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"4700:15:152","nodeType":"VariableDeclaration","scope":87418,"src":"4692:23:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87390,"name":"address","nodeType":"ElementaryTypeName","src":"4692:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":87397,"initialValue":{"expression":{"baseExpression":{"expression":{"id":87392,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87338,"src":"4718:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87393,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4721:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"4718:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87395,"indexExpression":{"id":87394,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87385,"src":"4748:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4718:39:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87396,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4758:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":87117,"src":"4718:52:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"4692:78:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87399,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87391,"src":"4792:15:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":87402,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4819:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87401,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4811:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87400,"name":"address","nodeType":"ElementaryTypeName","src":"4811:7:152","typeDescriptions":{}}},"id":87403,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4811:10:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4792:29:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a2043616e2774206164642066756e6374696f6e207468617420616c726561647920657869737473","id":87405,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4823:55:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_99a7418ee014d613f46da44561258cdbb58064508097483a319062b99fa37700","typeString":"literal_string \"LibDiamondCut: Can't add function that already exists\""},"value":"LibDiamondCut: Can't add function that already exists"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_99a7418ee014d613f46da44561258cdbb58064508097483a319062b99fa37700","typeString":"literal_string \"LibDiamondCut: Can't add function that already exists\""}],"id":87398,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"4784:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87406,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4784:95:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87407,"nodeType":"ExpressionStatement","src":"4784:95:152"},{"expression":{"arguments":[{"id":87409,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87338,"src":"4905:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":87410,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87385,"src":"4909:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":87411,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87353,"src":"4919:16:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},{"id":87412,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87322,"src":"4937:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_uint96","typeString":"uint96"},{"typeIdentifier":"t_address","typeString":"address"}],"id":87408,"name":"addFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87664,"src":"4893:11:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$87146_storage_ptr_$_t_bytes4_$_t_uint96_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,bytes4,uint96,address)"}},"id":87413,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4893:58:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87414,"nodeType":"ExpressionStatement","src":"4893:58:152"},{"expression":{"id":87416,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4965:18:152","subExpression":{"id":87415,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87353,"src":"4965:16:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":87417,"nodeType":"ExpressionStatement","src":"4965:18:152"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87380,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87377,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87375,"src":"4553:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":87378,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87325,"src":"4569:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4588:6:152","memberName":"length","nodeType":"MemberAccess","src":"4569:25:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4553:41:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87419,"initializationExpression":{"assignments":[87375],"declarations":[{"constant":false,"id":87375,"mutability":"mutable","name":"selectorIndex","nameLocation":"4538:13:152","nodeType":"VariableDeclaration","scope":87419,"src":"4530:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87374,"name":"uint256","nodeType":"ElementaryTypeName","src":"4530:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87376,"nodeType":"VariableDeclarationStatement","src":"4530:21:152"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":87382,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4596:15:152","subExpression":{"id":87381,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87375,"src":"4596:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":87383,"nodeType":"ExpressionStatement","src":"4596:15:152"},"nodeType":"ForStatement","src":"4525:469:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunctions","nameLocation":"3920:12:152","parameters":{"id":87326,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87322,"mutability":"mutable","name":"_facetAddress","nameLocation":"3941:13:152","nodeType":"VariableDeclaration","scope":87421,"src":"3933:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87321,"name":"address","nodeType":"ElementaryTypeName","src":"3933:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87325,"mutability":"mutable","name":"_functionSelectors","nameLocation":"3972:18:152","nodeType":"VariableDeclaration","scope":87421,"src":"3956:34:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":87323,"name":"bytes4","nodeType":"ElementaryTypeName","src":"3956:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":87324,"nodeType":"ArrayTypeName","src":"3956:8:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"3932:59:152"},"returnParameters":{"id":87327,"nodeType":"ParameterList","parameters":[],"src":"4001:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87525,"nodeType":"FunctionDefinition","src":"5006:1138:152","nodes":[],"body":{"id":87524,"nodeType":"Block","src":"5100:1044:152","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":87430,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87426,"src":"5118:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87431,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5137:6:152","memberName":"length","nodeType":"MemberAccess","src":"5118:25:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":87432,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5146:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5118:29:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a204e6f2073656c6563746f727320696e20666163657420746f20637574","id":87434,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5149:45:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_1ffc682bcfedefd5e93ba9ed0c2d1bc0b18319886e3b4bd28a03a3d3729f85c0","typeString":"literal_string \"LibDiamondCut: No selectors in facet to cut\""},"value":"LibDiamondCut: No selectors in facet to cut"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_1ffc682bcfedefd5e93ba9ed0c2d1bc0b18319886e3b4bd28a03a3d3729f85c0","typeString":"literal_string \"LibDiamondCut: No selectors in facet to cut\""}],"id":87429,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"5110:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5110:85:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87436,"nodeType":"ExpressionStatement","src":"5110:85:152"},{"assignments":[87439],"declarations":[{"constant":false,"id":87439,"mutability":"mutable","name":"ds","nameLocation":"5228:2:152","nodeType":"VariableDeclaration","scope":87524,"src":"5205:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87438,"nodeType":"UserDefinedTypeName","pathNode":{"id":87437,"name":"DiamondStorage","nameLocations":["5205:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"5205:14:152"},"referencedDeclaration":87146,"src":"5205:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":87442,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":87440,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87158,"src":"5233:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$87146_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":87441,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5233:16:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"5205:44:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87444,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87423,"src":"5267:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":87447,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5292:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87446,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5284:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87445,"name":"address","nodeType":"ElementaryTypeName","src":"5284:7:152","typeDescriptions":{}}},"id":87448,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5284:10:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5267:27:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a204164642066616365742063616e27742062652061646472657373283029","id":87450,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5296:46:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_64609d8b93c93a06b98d7db7a87b04044cd4a52c5661d603bb9b90ad8b914a3a","typeString":"literal_string \"LibDiamondCut: Add facet can't be address(0)\""},"value":"LibDiamondCut: Add facet can't be address(0)"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_64609d8b93c93a06b98d7db7a87b04044cd4a52c5661d603bb9b90ad8b914a3a","typeString":"literal_string \"LibDiamondCut: Add facet can't be address(0)\""}],"id":87443,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"5259:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87451,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5259:84:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87452,"nodeType":"ExpressionStatement","src":"5259:84:152"},{"assignments":[87454],"declarations":[{"constant":false,"id":87454,"mutability":"mutable","name":"selectorPosition","nameLocation":"5360:16:152","nodeType":"VariableDeclaration","scope":87524,"src":"5353:23:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":87453,"name":"uint96","nodeType":"ElementaryTypeName","src":"5353:6:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"}],"id":87464,"initialValue":{"arguments":[{"expression":{"expression":{"baseExpression":{"expression":{"id":87457,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87439,"src":"5386:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87458,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5389:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"5386:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87460,"indexExpression":{"id":87459,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87423,"src":"5412:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5386:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87461,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5427:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"5386:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5445:6:152","memberName":"length","nodeType":"MemberAccess","src":"5386:65:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":87456,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5379:6:152","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":87455,"name":"uint96","nodeType":"ElementaryTypeName","src":"5379:6:152","typeDescriptions":{}}},"id":87463,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5379:73:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"VariableDeclarationStatement","src":"5353:99:152"},{"condition":{"commonType":{"typeIdentifier":"t_uint96","typeString":"uint96"},"id":87467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87465,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87454,"src":"5520:16:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":87466,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5540:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5520:21:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87474,"nodeType":"IfStatement","src":"5516:79:152","trueBody":{"id":87473,"nodeType":"Block","src":"5543:52:152","statements":[{"expression":{"arguments":[{"id":87469,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87439,"src":"5566:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":87470,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87423,"src":"5570:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":87468,"name":"addFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87623,"src":"5557:8:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$87146_storage_ptr_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address)"}},"id":87471,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5557:27:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87472,"nodeType":"ExpressionStatement","src":"5557:27:152"}]}},{"body":{"id":87522,"nodeType":"Block","src":"5692:446:152","statements":[{"assignments":[87486],"declarations":[{"constant":false,"id":87486,"mutability":"mutable","name":"selector","nameLocation":"5713:8:152","nodeType":"VariableDeclaration","scope":87522,"src":"5706:15:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":87485,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5706:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":87490,"initialValue":{"baseExpression":{"id":87487,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87426,"src":"5724:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87489,"indexExpression":{"id":87488,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87476,"src":"5743:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5724:33:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"5706:51:152"},{"assignments":[87492],"declarations":[{"constant":false,"id":87492,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"5779:15:152","nodeType":"VariableDeclaration","scope":87522,"src":"5771:23:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87491,"name":"address","nodeType":"ElementaryTypeName","src":"5771:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":87498,"initialValue":{"expression":{"baseExpression":{"expression":{"id":87493,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87439,"src":"5797:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87494,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5800:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"5797:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87496,"indexExpression":{"id":87495,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87486,"src":"5827:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5797:39:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87497,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5837:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":87117,"src":"5797:52:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5771:78:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87500,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87492,"src":"5871:15:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":87501,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87423,"src":"5890:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5871:32:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a2043616e2774207265706c6163652066756e6374696f6e20776974682073616d652066756e6374696f6e","id":87503,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5905:58:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_b5a7112edf707196456f338fdcc19cd849be6cb8c0d166bcd035f4cfb00e7078","typeString":"literal_string \"LibDiamondCut: Can't replace function with same function\""},"value":"LibDiamondCut: Can't replace function with same function"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b5a7112edf707196456f338fdcc19cd849be6cb8c0d166bcd035f4cfb00e7078","typeString":"literal_string \"LibDiamondCut: Can't replace function with same function\""}],"id":87499,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"5863:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87504,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5863:101:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87505,"nodeType":"ExpressionStatement","src":"5863:101:152"},{"expression":{"arguments":[{"id":87507,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87439,"src":"5993:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":87508,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87492,"src":"5997:15:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":87509,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87486,"src":"6014:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":87506,"name":"removeFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87831,"src":"5978:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$87146_storage_ptr_$_t_address_$_t_bytes4_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address,bytes4)"}},"id":87510,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5978:45:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87511,"nodeType":"ExpressionStatement","src":"5978:45:152"},{"expression":{"arguments":[{"id":87513,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87439,"src":"6049:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":87514,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87486,"src":"6053:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":87515,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87454,"src":"6063:16:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},{"id":87516,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87423,"src":"6081:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_uint96","typeString":"uint96"},{"typeIdentifier":"t_address","typeString":"address"}],"id":87512,"name":"addFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87664,"src":"6037:11:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$87146_storage_ptr_$_t_bytes4_$_t_uint96_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,bytes4,uint96,address)"}},"id":87517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6037:58:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87518,"nodeType":"ExpressionStatement","src":"6037:58:152"},{"expression":{"id":87520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6109:18:152","subExpression":{"id":87519,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87454,"src":"6109:16:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":87521,"nodeType":"ExpressionStatement","src":"6109:18:152"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87478,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87476,"src":"5632:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":87479,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87426,"src":"5648:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5667:6:152","memberName":"length","nodeType":"MemberAccess","src":"5648:25:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5632:41:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87523,"initializationExpression":{"assignments":[87476],"declarations":[{"constant":false,"id":87476,"mutability":"mutable","name":"selectorIndex","nameLocation":"5617:13:152","nodeType":"VariableDeclaration","scope":87523,"src":"5609:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87475,"name":"uint256","nodeType":"ElementaryTypeName","src":"5609:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87477,"nodeType":"VariableDeclarationStatement","src":"5609:21:152"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":87483,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5675:15:152","subExpression":{"id":87482,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87476,"src":"5675:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":87484,"nodeType":"ExpressionStatement","src":"5675:15:152"},"nodeType":"ForStatement","src":"5604:534:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"replaceFunctions","nameLocation":"5015:16:152","parameters":{"id":87427,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87423,"mutability":"mutable","name":"_facetAddress","nameLocation":"5040:13:152","nodeType":"VariableDeclaration","scope":87525,"src":"5032:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87422,"name":"address","nodeType":"ElementaryTypeName","src":"5032:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87426,"mutability":"mutable","name":"_functionSelectors","nameLocation":"5071:18:152","nodeType":"VariableDeclaration","scope":87525,"src":"5055:34:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":87424,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5055:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":87425,"nodeType":"ArrayTypeName","src":"5055:8:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"5031:59:152"},"returnParameters":{"id":87428,"nodeType":"ParameterList","parameters":[],"src":"5100:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87590,"nodeType":"FunctionDefinition","src":"6150:742:152","nodes":[],"body":{"id":87589,"nodeType":"Block","src":"6243:649:152","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":87534,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87530,"src":"6261:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87535,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6280:6:152","memberName":"length","nodeType":"MemberAccess","src":"6261:25:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":87536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6289:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6261:29:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a204e6f2073656c6563746f727320696e20666163657420746f20637574","id":87538,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6292:45:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_1ffc682bcfedefd5e93ba9ed0c2d1bc0b18319886e3b4bd28a03a3d3729f85c0","typeString":"literal_string \"LibDiamondCut: No selectors in facet to cut\""},"value":"LibDiamondCut: No selectors in facet to cut"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_1ffc682bcfedefd5e93ba9ed0c2d1bc0b18319886e3b4bd28a03a3d3729f85c0","typeString":"literal_string \"LibDiamondCut: No selectors in facet to cut\""}],"id":87533,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"6253:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87539,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6253:85:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87540,"nodeType":"ExpressionStatement","src":"6253:85:152"},{"assignments":[87543],"declarations":[{"constant":false,"id":87543,"mutability":"mutable","name":"ds","nameLocation":"6371:2:152","nodeType":"VariableDeclaration","scope":87589,"src":"6348:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87542,"nodeType":"UserDefinedTypeName","pathNode":{"id":87541,"name":"DiamondStorage","nameLocations":["6348:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"6348:14:152"},"referencedDeclaration":87146,"src":"6348:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":87546,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":87544,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87158,"src":"6376:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$87146_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":87545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6376:16:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"6348:44:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87548,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87527,"src":"6475:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":87551,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6500:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87550,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6492:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87549,"name":"address","nodeType":"ElementaryTypeName","src":"6492:7:152","typeDescriptions":{}}},"id":87552,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6492:10:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6475:27:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a2052656d6f76652066616365742061646472657373206d7573742062652061646472657373283029","id":87554,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6504:56:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_b739aae768f79b96e91d9f66398733516895e39eb09ee54a795b49dcc77504d4","typeString":"literal_string \"LibDiamondCut: Remove facet address must be address(0)\""},"value":"LibDiamondCut: Remove facet address must be address(0)"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b739aae768f79b96e91d9f66398733516895e39eb09ee54a795b49dcc77504d4","typeString":"literal_string \"LibDiamondCut: Remove facet address must be address(0)\""}],"id":87547,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"6467:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87555,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6467:94:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87556,"nodeType":"ExpressionStatement","src":"6467:94:152"},{"body":{"id":87587,"nodeType":"Block","src":"6659:227:152","statements":[{"assignments":[87568],"declarations":[{"constant":false,"id":87568,"mutability":"mutable","name":"selector","nameLocation":"6680:8:152","nodeType":"VariableDeclaration","scope":87587,"src":"6673:15:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":87567,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6673:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":87572,"initialValue":{"baseExpression":{"id":87569,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87530,"src":"6691:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87571,"indexExpression":{"id":87570,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87558,"src":"6710:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6691:33:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"6673:51:152"},{"assignments":[87574],"declarations":[{"constant":false,"id":87574,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"6746:15:152","nodeType":"VariableDeclaration","scope":87587,"src":"6738:23:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87573,"name":"address","nodeType":"ElementaryTypeName","src":"6738:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":87580,"initialValue":{"expression":{"baseExpression":{"expression":{"id":87575,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87543,"src":"6764:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87576,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6767:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"6764:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87578,"indexExpression":{"id":87577,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87568,"src":"6794:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6764:39:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87579,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6804:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":87117,"src":"6764:52:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6738:78:152"},{"expression":{"arguments":[{"id":87582,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87543,"src":"6845:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":87583,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87574,"src":"6849:15:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":87584,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87568,"src":"6866:8:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":87581,"name":"removeFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87831,"src":"6830:14:152","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$87146_storage_ptr_$_t_address_$_t_bytes4_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address,bytes4)"}},"id":87585,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6830:45:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87586,"nodeType":"ExpressionStatement","src":"6830:45:152"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87560,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87558,"src":"6599:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":87561,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87530,"src":"6615:18:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":87562,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6634:6:152","memberName":"length","nodeType":"MemberAccess","src":"6615:25:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6599:41:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87588,"initializationExpression":{"assignments":[87558],"declarations":[{"constant":false,"id":87558,"mutability":"mutable","name":"selectorIndex","nameLocation":"6584:13:152","nodeType":"VariableDeclaration","scope":87588,"src":"6576:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87557,"name":"uint256","nodeType":"ElementaryTypeName","src":"6576:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87559,"nodeType":"VariableDeclarationStatement","src":"6576:21:152"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":87565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6642:15:152","subExpression":{"id":87564,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87558,"src":"6642:13:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":87566,"nodeType":"ExpressionStatement","src":"6642:15:152"},"nodeType":"ForStatement","src":"6571:315:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunctions","nameLocation":"6159:15:152","parameters":{"id":87531,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87527,"mutability":"mutable","name":"_facetAddress","nameLocation":"6183:13:152","nodeType":"VariableDeclaration","scope":87590,"src":"6175:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87526,"name":"address","nodeType":"ElementaryTypeName","src":"6175:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87530,"mutability":"mutable","name":"_functionSelectors","nameLocation":"6214:18:152","nodeType":"VariableDeclaration","scope":87590,"src":"6198:34:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":87528,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6198:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":87529,"nodeType":"ArrayTypeName","src":"6198:8:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"6174:59:152"},"returnParameters":{"id":87532,"nodeType":"ParameterList","parameters":[],"src":"6243:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87623,"nodeType":"FunctionDefinition","src":"6898:316:152","nodes":[],"body":{"id":87622,"nodeType":"Block","src":"6975:239:152","nodes":[],"statements":[{"expression":{"arguments":[{"id":87599,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87595,"src":"7008:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a204e657720666163657420686173206e6f20636f6465","id":87600,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7023:38:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_846ccbeb9c32d4d40d2c1bf991251db6ab65744a2f52b273947cee088a65504b","typeString":"literal_string \"LibDiamondCut: New facet has no code\""},"value":"LibDiamondCut: New facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_846ccbeb9c32d4d40d2c1bf991251db6ab65744a2f52b273947cee088a65504b","typeString":"literal_string \"LibDiamondCut: New facet has no code\""}],"id":87598,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87898,"src":"6985:22:152","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":87601,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6985:77:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87602,"nodeType":"ExpressionStatement","src":"6985:77:152"},{"expression":{"id":87612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":87603,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87593,"src":"7072:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87606,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7075:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"7072:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87607,"indexExpression":{"id":87605,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87595,"src":"7098:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7072:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87608,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7113:20:152","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":87125,"src":"7072:61:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":87609,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87593,"src":"7136:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87610,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7139:14:152","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":87139,"src":"7136:17:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":87611,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7154:6:152","memberName":"length","nodeType":"MemberAccess","src":"7136:24:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7072:88:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":87613,"nodeType":"ExpressionStatement","src":"7072:88:152"},{"expression":{"arguments":[{"id":87619,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87595,"src":"7193:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"expression":{"id":87614,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87593,"src":"7170:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87617,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7173:14:152","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":87139,"src":"7170:17:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":87618,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7188:4:152","memberName":"push","nodeType":"MemberAccess","src":"7170:22:152","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_address_$dyn_storage_ptr_$_t_address_$returns$__$attached_to$_t_array$_t_address_$dyn_storage_ptr_$","typeString":"function (address[] storage pointer,address)"}},"id":87620,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7170:37:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87621,"nodeType":"ExpressionStatement","src":"7170:37:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFacet","nameLocation":"6907:8:152","parameters":{"id":87596,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87593,"mutability":"mutable","name":"ds","nameLocation":"6939:2:152","nodeType":"VariableDeclaration","scope":87623,"src":"6916:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87592,"nodeType":"UserDefinedTypeName","pathNode":{"id":87591,"name":"DiamondStorage","nameLocations":["6916:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"6916:14:152"},"referencedDeclaration":87146,"src":"6916:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"},{"constant":false,"id":87595,"mutability":"mutable","name":"_facetAddress","nameLocation":"6951:13:152","nodeType":"VariableDeclaration","scope":87623,"src":"6943:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87594,"name":"address","nodeType":"ElementaryTypeName","src":"6943:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6915:50:152"},"returnParameters":{"id":87597,"nodeType":"ParameterList","parameters":[],"src":"6975:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87664,"nodeType":"FunctionDefinition","src":"7224:389:152","nodes":[],"body":{"id":87663,"nodeType":"Block","src":"7348:265:152","nodes":[],"statements":[{"expression":{"id":87642,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":87635,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87626,"src":"7358:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87638,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7361:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"7358:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87639,"indexExpression":{"id":87637,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87628,"src":"7388:9:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7358:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87640,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7399:24:152","memberName":"functionSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":87119,"src":"7358:65:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":87641,"name":"_selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87630,"src":"7426:17:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"src":"7358:85:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":87643,"nodeType":"ExpressionStatement","src":"7358:85:152"},{"expression":{"arguments":[{"id":87651,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87628,"src":"7517:9:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"expression":{"baseExpression":{"expression":{"id":87644,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87626,"src":"7453:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87647,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7456:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"7453:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87648,"indexExpression":{"id":87646,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87632,"src":"7479:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7453:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87649,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7494:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"7453:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7512:4:152","memberName":"push","nodeType":"MemberAccess","src":"7453:63:152","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$_t_bytes4_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer,bytes4)"}},"id":87652,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7453:74:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87653,"nodeType":"ExpressionStatement","src":"7453:74:152"},{"expression":{"id":87661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":87654,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87626,"src":"7537:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7540:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"7537:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87658,"indexExpression":{"id":87656,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87628,"src":"7567:9:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7537:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87659,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7578:12:152","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":87117,"src":"7537:53:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":87660,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87632,"src":"7593:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7537:69:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":87662,"nodeType":"ExpressionStatement","src":"7537:69:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunction","nameLocation":"7233:11:152","parameters":{"id":87633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87626,"mutability":"mutable","name":"ds","nameLocation":"7268:2:152","nodeType":"VariableDeclaration","scope":87664,"src":"7245:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87625,"nodeType":"UserDefinedTypeName","pathNode":{"id":87624,"name":"DiamondStorage","nameLocations":["7245:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"7245:14:152"},"referencedDeclaration":87146,"src":"7245:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"},{"constant":false,"id":87628,"mutability":"mutable","name":"_selector","nameLocation":"7279:9:152","nodeType":"VariableDeclaration","scope":87664,"src":"7272:16:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":87627,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7272:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"},{"constant":false,"id":87630,"mutability":"mutable","name":"_selectorPosition","nameLocation":"7297:17:152","nodeType":"VariableDeclaration","scope":87664,"src":"7290:24:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":87629,"name":"uint96","nodeType":"ElementaryTypeName","src":"7290:6:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"},{"constant":false,"id":87632,"mutability":"mutable","name":"_facetAddress","nameLocation":"7324:13:152","nodeType":"VariableDeclaration","scope":87664,"src":"7316:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87631,"name":"address","nodeType":"ElementaryTypeName","src":"7316:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7244:94:152"},"returnParameters":{"id":87634,"nodeType":"ParameterList","parameters":[],"src":"7348:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87831,"nodeType":"FunctionDefinition","src":"7619:2190:152","nodes":[],"body":{"id":87830,"nodeType":"Block","src":"7720:2089:152","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87680,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87675,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"7746:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":87678,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7771:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87677,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7763:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87676,"name":"address","nodeType":"ElementaryTypeName","src":"7763:7:152","typeDescriptions":{}}},"id":87679,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7763:10:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7746:27:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a2043616e27742072656d6f76652066756e6374696f6e207468617420646f65736e2774206578697374","id":87681,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7775:57:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_2c590e498c4d56c984a7092fd5e89a68b9f4541ce9f97252fb74e44a00ffbb71","typeString":"literal_string \"LibDiamondCut: Can't remove function that doesn't exist\""},"value":"LibDiamondCut: Can't remove function that doesn't exist"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2c590e498c4d56c984a7092fd5e89a68b9f4541ce9f97252fb74e44a00ffbb71","typeString":"literal_string \"LibDiamondCut: Can't remove function that doesn't exist\""}],"id":87674,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"7738:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7738:95:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87683,"nodeType":"ExpressionStatement","src":"7738:95:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87690,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87685,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"7928:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"id":87688,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"7953:4:152","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$87899","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$87899","typeString":"library LibDiamond"}],"id":87687,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7945:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87686,"name":"address","nodeType":"ElementaryTypeName","src":"7945:7:152","typeDescriptions":{}}},"id":87689,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7945:13:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7928:30:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c69624469616d6f6e644375743a2043616e27742072656d6f766520696d6d757461626c652066756e6374696f6e","id":87691,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7960:48:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_8ba063dfaa4be2d2cbe73dbb1364728b0f7031ac048441d5fad19e9541992b21","typeString":"literal_string \"LibDiamondCut: Can't remove immutable function\""},"value":"LibDiamondCut: Can't remove immutable function"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8ba063dfaa4be2d2cbe73dbb1364728b0f7031ac048441d5fad19e9541992b21","typeString":"literal_string \"LibDiamondCut: Can't remove immutable function\""}],"id":87684,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"7920:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87692,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7920:89:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87693,"nodeType":"ExpressionStatement","src":"7920:89:152"},{"assignments":[87695],"declarations":[{"constant":false,"id":87695,"mutability":"mutable","name":"selectorPosition","nameLocation":"8101:16:152","nodeType":"VariableDeclaration","scope":87830,"src":"8093:24:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87694,"name":"uint256","nodeType":"ElementaryTypeName","src":"8093:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87701,"initialValue":{"expression":{"baseExpression":{"expression":{"id":87696,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8120:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87697,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8123:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"8120:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87699,"indexExpression":{"id":87698,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87671,"src":"8150:9:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8120:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87700,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8161:24:152","memberName":"functionSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":87119,"src":"8120:65:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"VariableDeclarationStatement","src":"8093:92:152"},{"assignments":[87703],"declarations":[{"constant":false,"id":87703,"mutability":"mutable","name":"lastSelectorPosition","nameLocation":"8203:20:152","nodeType":"VariableDeclaration","scope":87830,"src":"8195:28:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87702,"name":"uint256","nodeType":"ElementaryTypeName","src":"8195:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87712,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87711,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"baseExpression":{"expression":{"id":87704,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8226:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87705,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8229:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"8226:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87707,"indexExpression":{"id":87706,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"8252:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8226:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87708,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8267:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"8226:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8285:6:152","memberName":"length","nodeType":"MemberAccess","src":"8226:65:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":87710,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8294:1:152","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8226:69:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8195:100:152"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87715,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87713,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87695,"src":"8377:16:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":87714,"name":"lastSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87703,"src":"8397:20:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8377:40:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87750,"nodeType":"IfStatement","src":"8373:387:152","trueBody":{"id":87749,"nodeType":"Block","src":"8419:341:152","statements":[{"assignments":[87717],"declarations":[{"constant":false,"id":87717,"mutability":"mutable","name":"lastSelector","nameLocation":"8440:12:152","nodeType":"VariableDeclaration","scope":87749,"src":"8433:19:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":87716,"name":"bytes4","nodeType":"ElementaryTypeName","src":"8433:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":87725,"initialValue":{"baseExpression":{"expression":{"baseExpression":{"expression":{"id":87718,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8455:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87719,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8458:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"8455:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87721,"indexExpression":{"id":87720,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"8481:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8455:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87722,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8496:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"8455:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87724,"indexExpression":{"id":87723,"name":"lastSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87703,"src":"8514:20:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8455:80:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"8433:102:152"},{"expression":{"id":87735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"baseExpression":{"expression":{"id":87726,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8549:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87729,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8552:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"8549:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87730,"indexExpression":{"id":87728,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"8575:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8549:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87731,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8590:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"8549:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87733,"indexExpression":{"id":87732,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87695,"src":"8608:16:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8549:76:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":87734,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87717,"src":"8628:12:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"8549:91:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":87736,"nodeType":"ExpressionStatement","src":"8549:91:152"},{"expression":{"id":87747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":87737,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8654:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87740,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8657:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"8654:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87741,"indexExpression":{"id":87739,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87717,"src":"8684:12:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8654:43:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":87742,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"8698:24:152","memberName":"functionSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":87119,"src":"8654:68:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":87745,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87695,"src":"8732:16:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":87744,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8725:6:152","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":87743,"name":"uint96","nodeType":"ElementaryTypeName","src":"8725:6:152","typeDescriptions":{}}},"id":87746,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8725:24:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"src":"8654:95:152","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":87748,"nodeType":"ExpressionStatement","src":"8654:95:152"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"baseExpression":{"expression":{"id":87751,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8805:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87754,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8808:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"8805:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87755,"indexExpression":{"id":87753,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"8831:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8805:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87756,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8846:17:152","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":87123,"src":"8805:58:152","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":87757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8864:3:152","memberName":"pop","nodeType":"MemberAccess","src":"8805:62:152","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer)"}},"id":87758,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8805:64:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87759,"nodeType":"ExpressionStatement","src":"8805:64:152"},{"expression":{"id":87764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"8879:47:152","subExpression":{"baseExpression":{"expression":{"id":87760,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"8886:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87761,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8889:26:152","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":87131,"src":"8886:29:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$87120_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":87763,"indexExpression":{"id":87762,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87671,"src":"8916:9:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8886:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$87120_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87765,"nodeType":"ExpressionStatement","src":"8879:47:152"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87766,"name":"lastSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87703,"src":"9021:20:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":87767,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9045:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9021:25:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87829,"nodeType":"IfStatement","src":"9017:786:152","trueBody":{"id":87828,"nodeType":"Block","src":"9048:755:152","statements":[{"assignments":[87770],"declarations":[{"constant":false,"id":87770,"mutability":"mutable","name":"lastFacetAddressPosition","nameLocation":"9161:24:152","nodeType":"VariableDeclaration","scope":87828,"src":"9153:32:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87769,"name":"uint256","nodeType":"ElementaryTypeName","src":"9153:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87776,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":87771,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9188:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87772,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9191:14:152","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":87139,"src":"9188:17:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":87773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9206:6:152","memberName":"length","nodeType":"MemberAccess","src":"9188:24:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":87774,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9215:1:152","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9188:28:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9153:63:152"},{"assignments":[87778],"declarations":[{"constant":false,"id":87778,"mutability":"mutable","name":"facetAddressPosition","nameLocation":"9238:20:152","nodeType":"VariableDeclaration","scope":87828,"src":"9230:28:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87777,"name":"uint256","nodeType":"ElementaryTypeName","src":"9230:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87784,"initialValue":{"expression":{"baseExpression":{"expression":{"id":87779,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9261:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87780,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9264:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"9261:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87782,"indexExpression":{"id":87781,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"9287:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9261:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87783,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9302:20:152","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":87125,"src":"9261:61:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9230:92:152"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87787,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87785,"name":"facetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87778,"src":"9340:20:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":87786,"name":"lastFacetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87770,"src":"9364:24:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9340:48:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87813,"nodeType":"IfStatement","src":"9336:338:152","trueBody":{"id":87812,"nodeType":"Block","src":"9390:284:152","statements":[{"assignments":[87789],"declarations":[{"constant":false,"id":87789,"mutability":"mutable","name":"lastFacetAddress","nameLocation":"9416:16:152","nodeType":"VariableDeclaration","scope":87812,"src":"9408:24:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87788,"name":"address","nodeType":"ElementaryTypeName","src":"9408:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":87794,"initialValue":{"baseExpression":{"expression":{"id":87790,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9435:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87791,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9438:14:152","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":87139,"src":"9435:17:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":87793,"indexExpression":{"id":87792,"name":"lastFacetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87770,"src":"9453:24:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9435:43:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9408:70:152"},{"expression":{"id":87801,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":87795,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9496:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87798,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9499:14:152","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":87139,"src":"9496:17:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":87799,"indexExpression":{"id":87797,"name":"facetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87778,"src":"9514:20:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9496:39:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":87800,"name":"lastFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87789,"src":"9538:16:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9496:58:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":87802,"nodeType":"ExpressionStatement","src":"9496:58:152"},{"expression":{"id":87810,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":87803,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9572:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87806,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9575:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"9572:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87807,"indexExpression":{"id":87805,"name":"lastFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87789,"src":"9598:16:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9572:43:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87808,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"9616:20:152","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":87125,"src":"9572:64:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":87809,"name":"facetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87778,"src":"9639:20:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9572:87:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":87811,"nodeType":"ExpressionStatement","src":"9572:87:152"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":87814,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9687:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87817,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9690:14:152","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":87139,"src":"9687:17:152","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":87818,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9705:3:152","memberName":"pop","nodeType":"MemberAccess","src":"9687:21:152","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_address_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_address_$dyn_storage_ptr_$","typeString":"function (address[] storage pointer)"}},"id":87819,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9687:23:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87820,"nodeType":"ExpressionStatement","src":"9687:23:152"},{"expression":{"id":87826,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"9724:68:152","subExpression":{"expression":{"baseExpression":{"expression":{"id":87821,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87667,"src":"9731:2:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":87822,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9734:22:152","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":87136,"src":"9731:25:152","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$87126_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":87824,"indexExpression":{"id":87823,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87669,"src":"9757:13:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9731:40:152","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$87126_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":87825,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"9772:20:152","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":87125,"src":"9731:61:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87827,"nodeType":"ExpressionStatement","src":"9724:68:152"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunction","nameLocation":"7628:14:152","parameters":{"id":87672,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87667,"mutability":"mutable","name":"ds","nameLocation":"7666:2:152","nodeType":"VariableDeclaration","scope":87831,"src":"7643:25:152","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":87666,"nodeType":"UserDefinedTypeName","pathNode":{"id":87665,"name":"DiamondStorage","nameLocations":["7643:14:152"],"nodeType":"IdentifierPath","referencedDeclaration":87146,"src":"7643:14:152"},"referencedDeclaration":87146,"src":"7643:14:152","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$87146_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"},{"constant":false,"id":87669,"mutability":"mutable","name":"_facetAddress","nameLocation":"7678:13:152","nodeType":"VariableDeclaration","scope":87831,"src":"7670:21:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87668,"name":"address","nodeType":"ElementaryTypeName","src":"7670:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87671,"mutability":"mutable","name":"_selector","nameLocation":"7700:9:152","nodeType":"VariableDeclaration","scope":87831,"src":"7693:16:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":87670,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7693:6:152","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"7642:68:152"},"returnParameters":{"id":87673,"nodeType":"ParameterList","parameters":[],"src":"7720:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87879,"nodeType":"FunctionDefinition","src":"9815:742:152","nodes":[],"body":{"id":87878,"nodeType":"Block","src":"9893:664:152","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87838,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87833,"src":"9907:5:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":87841,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9924:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87840,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9916:7:152","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87839,"name":"address","nodeType":"ElementaryTypeName","src":"9916:7:152","typeDescriptions":{}}},"id":87842,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9916:10:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9907:19:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87846,"nodeType":"IfStatement","src":"9903:56:152","trueBody":{"id":87845,"nodeType":"Block","src":"9928:31:152","statements":[{"functionReturnParameters":87837,"id":87844,"nodeType":"Return","src":"9942:7:152"}]}},{"expression":{"arguments":[{"id":87848,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87833,"src":"9991:5:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a205f696e6974206164647265737320686173206e6f20636f6465","id":87849,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9998:42:152","typeDescriptions":{"typeIdentifier":"t_stringliteral_460f8f0920c649146ef02741816b1cf9ce4f02ea288ceb73adf027cefe9069a0","typeString":"literal_string \"LibDiamondCut: _init address has no code\""},"value":"LibDiamondCut: _init address has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_460f8f0920c649146ef02741816b1cf9ce4f02ea288ceb73adf027cefe9069a0","typeString":"literal_string \"LibDiamondCut: _init address has no code\""}],"id":87847,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87898,"src":"9968:22:152","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":87850,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9968:73:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87851,"nodeType":"ExpressionStatement","src":"9968:73:152"},{"assignments":[87853,87855],"declarations":[{"constant":false,"id":87853,"mutability":"mutable","name":"success","nameLocation":"10065:7:152","nodeType":"VariableDeclaration","scope":87878,"src":"10060:12:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":87852,"name":"bool","nodeType":"ElementaryTypeName","src":"10060:4:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":87855,"mutability":"mutable","name":"error","nameLocation":"10087:5:152","nodeType":"VariableDeclaration","scope":87878,"src":"10074:18:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":87854,"name":"bytes","nodeType":"ElementaryTypeName","src":"10074:5:152","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":87860,"initialValue":{"arguments":[{"id":87858,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87835,"src":"10115:9:152","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":87856,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87833,"src":"10096:5:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":87857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10102:12:152","memberName":"delegatecall","nodeType":"MemberAccess","src":"10096:18:152","typeDescriptions":{"typeIdentifier":"t_function_baredelegatecall_nonpayable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) returns (bool,bytes memory)"}},"id":87859,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10096:29:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"10059:66:152"},{"condition":{"id":87862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10139:8:152","subExpression":{"id":87861,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87853,"src":"10140:7:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87877,"nodeType":"IfStatement","src":"10135:416:152","trueBody":{"id":87876,"nodeType":"Block","src":"10149:402:152","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87866,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":87863,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87855,"src":"10167:5:152","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":87864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10173:6:152","memberName":"length","nodeType":"MemberAccess","src":"10167:12:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":87865,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10182:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10167:16:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":87874,"nodeType":"Block","src":"10453:88:152","statements":[{"errorCall":{"arguments":[{"id":87870,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87833,"src":"10509:5:152","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":87871,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87835,"src":"10516:9:152","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":87869,"name":"InitializationFunctionReverted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87110,"src":"10478:30:152","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_bytes_memory_ptr_$returns$_t_error_$","typeString":"function (address,bytes memory) pure returns (error)"}},"id":87872,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10478:48:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":87873,"nodeType":"RevertStatement","src":"10471:55:152"}]},"id":87875,"nodeType":"IfStatement","src":"10163:378:152","trueBody":{"id":87868,"nodeType":"Block","src":"10185:262:152","statements":[{"AST":{"nativeSrc":"10298:135:152","nodeType":"YulBlock","src":"10298:135:152","statements":[{"nativeSrc":"10320:35:152","nodeType":"YulVariableDeclaration","src":"10320:35:152","value":{"arguments":[{"name":"error","nativeSrc":"10349:5:152","nodeType":"YulIdentifier","src":"10349:5:152"}],"functionName":{"name":"mload","nativeSrc":"10343:5:152","nodeType":"YulIdentifier","src":"10343:5:152"},"nativeSrc":"10343:12:152","nodeType":"YulFunctionCall","src":"10343:12:152"},"variables":[{"name":"returndata_size","nativeSrc":"10324:15:152","nodeType":"YulTypedName","src":"10324:15:152","type":""}]},{"expression":{"arguments":[{"arguments":[{"kind":"number","nativeSrc":"10387:2:152","nodeType":"YulLiteral","src":"10387:2:152","type":"","value":"32"},{"name":"error","nativeSrc":"10391:5:152","nodeType":"YulIdentifier","src":"10391:5:152"}],"functionName":{"name":"add","nativeSrc":"10383:3:152","nodeType":"YulIdentifier","src":"10383:3:152"},"nativeSrc":"10383:14:152","nodeType":"YulFunctionCall","src":"10383:14:152"},{"name":"returndata_size","nativeSrc":"10399:15:152","nodeType":"YulIdentifier","src":"10399:15:152"}],"functionName":{"name":"revert","nativeSrc":"10376:6:152","nodeType":"YulIdentifier","src":"10376:6:152"},"nativeSrc":"10376:39:152","nodeType":"YulFunctionCall","src":"10376:39:152"},"nativeSrc":"10376:39:152","nodeType":"YulExpressionStatement","src":"10376:39:152"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"cancun","externalReferences":[{"declaration":87855,"isOffset":false,"isSlot":false,"src":"10349:5:152","valueSize":1},{"declaration":87855,"isOffset":false,"isSlot":false,"src":"10391:5:152","valueSize":1}],"id":87867,"nodeType":"InlineAssembly","src":"10289:144:152"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"initializeDiamondCut","nameLocation":"9824:20:152","parameters":{"id":87836,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87833,"mutability":"mutable","name":"_init","nameLocation":"9853:5:152","nodeType":"VariableDeclaration","scope":87879,"src":"9845:13:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87832,"name":"address","nodeType":"ElementaryTypeName","src":"9845:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87835,"mutability":"mutable","name":"_calldata","nameLocation":"9873:9:152","nodeType":"VariableDeclaration","scope":87879,"src":"9860:22:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":87834,"name":"bytes","nodeType":"ElementaryTypeName","src":"9860:5:152","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"9844:39:152"},"returnParameters":{"id":87837,"nodeType":"ParameterList","parameters":[],"src":"9893:0:152"},"scope":87899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":87898,"nodeType":"FunctionDefinition","src":"10563:261:152","nodes":[],"body":{"id":87897,"nodeType":"Block","src":"10657:167:152","nodes":[],"statements":[{"assignments":[87887],"declarations":[{"constant":false,"id":87887,"mutability":"mutable","name":"contractSize","nameLocation":"10675:12:152","nodeType":"VariableDeclaration","scope":87897,"src":"10667:20:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":87886,"name":"uint256","nodeType":"ElementaryTypeName","src":"10667:7:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":87888,"nodeType":"VariableDeclarationStatement","src":"10667:20:152"},{"AST":{"nativeSrc":"10706:62:152","nodeType":"YulBlock","src":"10706:62:152","statements":[{"nativeSrc":"10720:38:152","nodeType":"YulAssignment","src":"10720:38:152","value":{"arguments":[{"name":"_contract","nativeSrc":"10748:9:152","nodeType":"YulIdentifier","src":"10748:9:152"}],"functionName":{"name":"extcodesize","nativeSrc":"10736:11:152","nodeType":"YulIdentifier","src":"10736:11:152"},"nativeSrc":"10736:22:152","nodeType":"YulFunctionCall","src":"10736:22:152"},"variableNames":[{"name":"contractSize","nativeSrc":"10720:12:152","nodeType":"YulIdentifier","src":"10720:12:152"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":87881,"isOffset":false,"isSlot":false,"src":"10748:9:152","valueSize":1},{"declaration":87887,"isOffset":false,"isSlot":false,"src":"10720:12:152","valueSize":1}],"id":87889,"nodeType":"InlineAssembly","src":"10697:71:152"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":87893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87891,"name":"contractSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87887,"src":"10785:12:152","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":87892,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10800:1:152","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10785:16:152","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":87894,"name":"_errorMessage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87883,"src":"10803:13:152","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":87890,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"10777:7:152","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87895,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10777:40:152","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87896,"nodeType":"ExpressionStatement","src":"10777:40:152"}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceHasContractCode","nameLocation":"10572:22:152","parameters":{"id":87884,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87881,"mutability":"mutable","name":"_contract","nameLocation":"10603:9:152","nodeType":"VariableDeclaration","scope":87898,"src":"10595:17:152","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87880,"name":"address","nodeType":"ElementaryTypeName","src":"10595:7:152","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":87883,"mutability":"mutable","name":"_errorMessage","nameLocation":"10628:13:152","nodeType":"VariableDeclaration","scope":87898,"src":"10614:27:152","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":87882,"name":"string","nodeType":"ElementaryTypeName","src":"10614:6:152","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"10594:48:152"},"returnParameters":{"id":87885,"nodeType":"ParameterList","parameters":[],"src":"10657:0:152"},"scope":87899,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LibDiamond","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[87899],"name":"LibDiamond","nameLocation":"726:10:152","scope":87900,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":152}